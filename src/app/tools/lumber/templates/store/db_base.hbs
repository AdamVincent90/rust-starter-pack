use crate::foundation::database;
use crate::foundation::logger::logger::Logger;
use sqlx::error::UnexpectedNullError;
use sqlx::{PgPool, Row};

#[derive(Clone)]
pub struct {{upper name}}Store {
pub logger: Logger,
pub db: PgPool,
}

// This can be moved to a models.rs file.
struct {{upper name}} {}

// fn new_{{name}}_store() creates a new {{name}} store to perform database operations for the entity {{name}}s.
pub fn new_{{name}}_store(logger: Logger, db: PgPool) -> {{upper name}}Store {
{{upper name}}Store {
logger: logger,
db: db,
}
}

// We only allow these functions to be accesible on the {{upper name}}Store type.
// {{upper name}}Store can have other store related packages within to further flavour our logic.
impl {{upper name}}Store {

// ! To implement.
pub async fn query_{{name}}s(&self) -> Result<Vec<{{upper name}}>, UnexpectedNullError> {
Ok(vec![{{upper name}}{}])
}

// ! To implement.
pub async fn query_{{name}}_by_id(&self) -> Result<{{upper name}}, UnexpectedNullError> {
Ok({{upper name}}{})
}

// ! To implement.
pub async fn create_{{name}}(&self) -> Result<(), UnexpectedNullError> {
Ok(())
}
}